<div class="matches-list">
  @if (loading()) {
    <div class="loading">{{ 'matches.loading' | translate }}</div>
  }

  @if (error()) {
    <div class="error">{{ error() }}</div>
  }

  @if (!loading() && !error() && matches().length > 0) {
    <div class="matches-container">
      @for (group of groupedMatches(); track group.dateKey) {
        <div class="matches-day">
          <div class="day-header">{{ group.dateLabel }}</div>
          <div class="matches-day-list">
            @for (match of group.matches; track match.id) {
              <a
                [routerLink]="['/matches', match.id]"
                [queryParams]="getLinkQueryParams()"
                class="match-row">
                <div class="team home-team">
                  <span class="team-short">{{ match.homeTeam.shortName }}</span>
                  <span class="team-name">{{ match.homeTeam.name }}</span>
                </div>

                <div class="match-center">
                  @if (match.status === 'finished' || match.status === 'live') {
                    <div class="score">
                      {{ match.homeScore ?? '-' }} - {{ match.awayScore ?? '-' }}
                    </div>
                  } @else {
                    <div class="kickoff-time">{{ formatTime(match.kickoffAt) }}</div>
                  }
                  <div class="status" [class]="'status ' + getStatusClass(match.status)">
                    {{ getStatusLabel(match.status) | translate }}
                  </div>
                </div>

                <div class="team away-team">
                  <span class="team-short">{{ match.awayTeam.shortName }}</span>
                  <span class="team-name">{{ match.awayTeam.name }}</span>
                </div>
              </a>
            }
          </div>
        </div>
      }
    </div>
  }

  @if (!loading() && !error() && matches().length === 0) {
    <div class="no-matches">{{ 'matches.noMatchesInRound' | translate }}</div>
  }
</div>
